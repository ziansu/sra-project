public synchronized void setGrid(boolean gr) {
    grid = gr;
    update();
}